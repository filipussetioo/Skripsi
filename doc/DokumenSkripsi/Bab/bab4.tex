\chapter{Perancangan}
\label{chap:perancangan}

\section{Perancangan Konversi Menuju \textit{CodeIgniter 4}}
Bagian ini akan membahas mengenai implementasi konversi menuju \textit{CodeIgniter 4} seperti yang telah dibahas pada Bab 2.
\subsection{Implementasi Persiapan \textit{CodeIgniter 4}}
Pertama perlu dilakukan pemasangan aplikasi \textit{CodeIgniter 4}. Pemasangan ini dapat dilakukan dengan pengunduhan manual melalui situs resmi \textit{CodeIgniter 4} ataupun melalui \textit{composer}. Pemasangan melalui \textit{composer} dapat dilakukan menggunakan \textit{command line} dengan kode sebagai berikut:
\begin{center}
\verb|composer create-project codeigniter4/appstarter SharIF-JudgeV3|
\end{center}

Setelah dilakukan pemasangan \textit{CodeIgniter 4}, perlu dilakukan pemasangan komponen pendukung melalui \textit{composer} seperti \textit{Twig} sebagai \textit{template engine}, \textit{PHPOffice}, \textit{RADIUS}, dan \textit{ADLDAP}. Pemasangan komponen pendukung \textit{Twig} dapat dilakukan menggunakan \textit{command line} dengan kode sebagai berikut:

\begin{center}
\verb|composer require "twig/twig:^2.0"|
\end{center}

Pemasangan komponen pendukung \textit{PHPOffice} dapat dilakukan sebagai berikut:

\begin{center}
	\verb|composer require phpoffice/phpspreadsheet|
\end{center}

Pemasangan komponen pendukung \textit{RADIUS} dapat dilakukan dengan cara berikut:

\begin{center}
	\verb|composer require dapphp/radius|
\end{center}

Pemasangan komponen pendukung \textit{ADLDAP} dapat dilakukan dengan cara berikut:

\begin{center}
	\verb||
\end{center}

\subsection{Pemindahan \textit{file} dari \textit{CodeIgniter 3} ke \textit{CodeIgniter 4}}
\textit{CodeIgniter 4} memiliki struktur berbeda dengan \textit{CodeIgniter 3} sehingga kita memerlukan pemindahan \textit{file-file} sesuai dengan struktur yang ada pada \textit{CodeIgniter 4}. Data-data konfigurasi yang terdapat pada \texttt{application/config} akan dipindahkan menuju \texttt{app/config}. Data-data pada \textit{model} akan dipindahkan menuju \verb|app/Models|. Data-data \textit{controllers} akan dipindahkan menuju \verb|app/Controllers|. Data-data \textit{views} akan dipindahkan menuju \verb|app/Views|. Sedangkan data-data seperti aset, \textit{javascript}, dan logo akan dipindahkan menuju \verb|public|.

\subsection{Pembaharuan \textit{file-file CodeIgniter 3}}
\textit{File-file} yang telah dipindahkan akan dilakukan pembaharuan agar sesuai dengan standar pada \textit{CodeIgnier 4}. 
\subsubsection{\textit{Model}}
Seluruh \textit{file model} yang telah dipindahkan akan dilakukan perubahan dengan menghapuskan \texttt{defined('BASEPATH') OR exit('No direct script access allowed');} dan menambahkan kedua kode berikut:
\begin{itemize}
	\item \verb|namespace App\Models;|
	\item \verb|use CodeIgniter\Model;|
\end{itemize}

Selanjutnya dilakukan pengubahan seluruh pemanggilan \textit{model} dari \verb|$this->load->model('x');| menjadi \verb|$this->x = new X();|.

\subsubsection{\textit{View}}
\subsubsection{\textit{Controller}}
\textit{File-file} yang telah dipindahkan akan dilakukan perubahan dengan menghapuskan \texttt{defined('BASEPATH') OR exit('No direct script access allowed');}. Selanjutnya dilakukan perubahan dengan mengganti kode berikut:
\begin{center}
	\verb|extends CI_Controller|
\end{center}
\begin{center}
Menjadi kode berikut:
	\verb|extends BaseController|.
\end{center}

Setelah itu dilakukan penambahkan kode \verb|namespace App\Controllers;| setelah pembukaan \textit{tag PHP}.
\subsubsection{\textit{Library}}

\section{Implementasi Analisis Konversi \textit{CodeIgniter 3} ke \textit{CodeIgniter 4}}